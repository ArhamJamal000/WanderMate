{% extends "base.html" %}

{% block title %}Trip Planner - AI Trip Planner{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h2 class="mb-4 text-center" style="color: #ffffff; text-shadow: 0 2px 4px rgba(0,0,0,0.5);">Plan Your Trip</h2>
            <form method="POST" id="tripForm" class="text-center">
                <div class="mb-3">
                    <label for="destination" class="form-label">Destination</label>
                    <input type="text" class="form-control mx-auto" style="max-width: 400px;" id="destination" name="destination" required>
                </div>
                <div class="row justify-content-center">
                    <div class="col-md-6 mb-3">
                        <label for="start_date" class="form-label">Start Date</label>
                        <input type="date" class="form-control" id="start_date" name="start_date" min="{{ today }}" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="end_date" class="form-label">End Date</label>
                        <input type="date" class="form-control" id="end_date" name="end_date" min="{{ today }}" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="travelers" class="form-label">Number of Travelers</label>
                    <input type="number" class="form-control mx-auto" style="max-width: 400px;" id="travelers" name="travelers" min="1" value="1" required>
                </div>
                <div class="mb-3">
                    <label for="budget" class="form-label">Budget (USD)</label>
                    <input type="number" class="form-control mx-auto" style="max-width: 400px;" id="budget" name="budget" min="0.01" step="0.01" required>
                </div>
                <div class="mb-3">
                    <label for="mood" class="form-label">Travel Mood</label>
                    <select class="form-control mx-auto" style="max-width: 400px;" id="mood" name="mood" required>
                        <option value="">Select your travel mood...</option>
                        <option value="Relaxed">😌 Relaxed</option>
                        <option value="Adventurous">🏔️ Adventurous</option>
                        <option value="Romantic">💕 Romantic</option>
                        <option value="Cultural">🎨 Cultural</option>
                        <option value="Budget-Friendly">💰 Budget-Friendly</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="preferences" class="form-label">Special Preferences</label>
                    <textarea class="form-control mx-auto" style="max-width: 400px;" id="preferences" name="preferences" rows="3" placeholder="e.g., vegetarian food, adventure activities, cultural sites, etc."></textarea>
                </div>
                <button type="submit" class="btn btn-primary btn-lg" id="generateBtn">
                    <i class="fas fa-magic"></i> Start Planning
                </button>
                <div id="planning" class="text-center mt-3" style="display: none;">
                    <img src="{{ url_for('static', filename='images/loading.gif') }}" alt="Planning..." class="loading-gif">
                    <p>Planning your trip...</p>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="container-fluid mt-5">
    <div id="itineraryContainer" style="display: none;">
        <!-- Itinerary content will be loaded here via AJAX -->
    </div>
</div>
{% endblock %}
